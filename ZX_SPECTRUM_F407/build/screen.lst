ARM GAS  /tmp/ccGNEIQR.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"screen.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.screen_mem_write.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 25732069 		.ascii	"%s invalid addr %04X data %02X\015\012\000"
  20      6E76616C 
  20      69642061 
  20      64647220 
  20      25303458 
  21              		.section	.text.screen_mem_write,"ax",%progbits
  22              		.align	1
  23              		.global	screen_mem_write
  24              		.arch armv7e-m
  25              		.syntax unified
  26              		.thumb
  27              		.thumb_func
  28              		.fpu fpv4-sp-d16
  30              	screen_mem_write:
  31              	.LVL0:
  32              	.LFB126:
  33              		.file 1 "emulator/video/screen.c"
   1:emulator/video/screen.c **** #include "screen.h"
   2:emulator/video/screen.c **** #include "logger.h"
   3:emulator/video/screen.c **** #include "display.h"
   4:emulator/video/screen.c **** 
   5:emulator/video/screen.c **** #define SCREEN_DISPLAY_ATTRIBUTES_W     (32)
   6:emulator/video/screen.c **** #define SCREEN_DISPLAY_ATTRIBUTES_H     (24)
   7:emulator/video/screen.c **** 
   8:emulator/video/screen.c **** #define SCREEN_DISPLAY_W                (256)
   9:emulator/video/screen.c **** #define SCREEN_DISPLAY_H                (192)
  10:emulator/video/screen.c **** #define SCREEN_DISPLAY_ADDR_START_X     (32)
  11:emulator/video/screen.c **** #define SCREEN_DISPLAY_ADDR_END_X       (SCREEN_DISPLAY_ADDR_START_X + SCREEN_DISPLAY_W)
  12:emulator/video/screen.c **** #define SCREEN_DISPLAY_ADDR_START_Y     (24)
  13:emulator/video/screen.c **** #define SCREEN_DISPLAY_ADDR_END_Y       (SCREEN_DISPLAY_ADDR_START_Y + SCREEN_DISPLAY_H)
  14:emulator/video/screen.c **** 
  15:emulator/video/screen.c **** 
  16:emulator/video/screen.c **** #define SCREEN_AREA_START    (0x4000)
  17:emulator/video/screen.c **** #define SCREEN_AREA_END      (0x57FF)
  18:emulator/video/screen.c **** #define SCREEN_ATTR_START    (SCREEN_AREA_END + 1)
  19:emulator/video/screen.c **** #define SCREEN_ATTR_END      (0x5AFF)
  20:emulator/video/screen.c **** 
  21:emulator/video/screen.c **** #define SCREEN_THIRDS        (3)
ARM GAS  /tmp/ccGNEIQR.s 			page 2


  22:emulator/video/screen.c **** #define SCREEN_CHARS_ROW     (8)
  23:emulator/video/screen.c **** #define SCREEN_ROWS          (8)
  24:emulator/video/screen.c **** #define SCREEN_BYTES_IN_LINE (32)
  25:emulator/video/screen.c **** 
  26:emulator/video/screen.c **** #define THIRDS(_addr_)       ((_addr_ >> 11) & 0b11)
  27:emulator/video/screen.c **** #define CHAR(_addr_)         ((_addr_ >> 8)  & 0b111)
  28:emulator/video/screen.c **** #define ROW(_addr_)          ((_addr_ >> 5)  & 0b111)
  29:emulator/video/screen.c **** #define BYTE_IN_LINE(_addr_) (_addr_ & 0b11111)
  30:emulator/video/screen.c **** 
  31:emulator/video/screen.c **** #define SCREEN_SINCLAR_COLORS_NUM       (16)
  32:emulator/video/screen.c **** 
  33:emulator/video/screen.c **** /*
  34:emulator/video/screen.c ****  * 7  6  5  4  3  2  1  0
  35:emulator/video/screen.c ****  * F  B  ---P---  ---I---
  36:emulator/video/screen.c ****  * F - FLASH
  37:emulator/video/screen.c ****  * B - BRIGHT
  38:emulator/video/screen.c ****  * P - PAPER color
  39:emulator/video/screen.c ****  * I - INK color
  40:emulator/video/screen.c ****  */
  41:emulator/video/screen.c **** typedef union
  42:emulator/video/screen.c **** {
  43:emulator/video/screen.c ****     struct {
  44:emulator/video/screen.c ****         uint8_t ink    : 3;
  45:emulator/video/screen.c ****         uint8_t paper  : 3;
  46:emulator/video/screen.c ****         uint8_t bright : 1;
  47:emulator/video/screen.c ****         uint8_t flash  : 1;
  48:emulator/video/screen.c ****     };
  49:emulator/video/screen.c ****     uint8_t intr;
  50:emulator/video/screen.c **** } char_attribute_t;
  51:emulator/video/screen.c **** 
  52:emulator/video/screen.c **** /*
  53:emulator/video/screen.c ****  * 15 14 13 12 11 10  9  8  7  6  5  4  3  2  1  0
  54:emulator/video/screen.c ****  *  0  1  0  T  T  S  S  S  C  C  C  H  H  H  H  H
  55:emulator/video/screen.c ****  * 010 - 0x4000
  56:emulator/video/screen.c ****  * T   - THIRDS
  57:emulator/video/screen.c ****  * S   - CHAR in thirds
  58:emulator/video/screen.c ****  * C   - ROW in char
  59:emulator/video/screen.c ****  * H   - 32 bytes of line (256 bits)
  60:emulator/video/screen.c ****  */
  61:emulator/video/screen.c **** static uint8_t          screen_area[SCREEN_THIRDS]
  62:emulator/video/screen.c ****                                    [SCREEN_CHARS_ROW]
  63:emulator/video/screen.c ****                                    [SCREEN_ROWS]
  64:emulator/video/screen.c ****                                    [SCREEN_BYTES_IN_LINE];
  65:emulator/video/screen.c **** static char_attribute_t char_attribute[SCREEN_THIRDS * SCREEN_CHARS_ROW * SCREEN_BYTES_IN_LINE];
  66:emulator/video/screen.c **** static const uint16_t   colors_table[SCREEN_SINCLAR_COLORS_NUM] = 
  67:emulator/video/screen.c ****     {0x0000, 0x001A, 0xD000, 0xD01A, 0x06A0, 0x06BA, 0xD6A0, 0xD6BA,
  68:emulator/video/screen.c ****      0x0000, 0x001F, 0xF800, 0xF81F, 0x07E0, 0x07FF, 0xFFE0, 0xFFFF};
  69:emulator/video/screen.c **** static char_attribute_t border;
  70:emulator/video/screen.c **** 
  71:emulator/video/screen.c **** void screen_mem_write(uint16_t addr, uint8_t data)
  72:emulator/video/screen.c **** {
  34              		.loc 1 72 1 view -0
  35              		.cfi_startproc
  36              		@ args = 0, pretend = 0, frame = 0
  37              		@ frame_needed = 0, uses_anonymous_args = 0
  38              		.loc 1 72 1 is_stmt 0 view .LVU1
  39 0000 10B5     		push	{r4, lr}
ARM GAS  /tmp/ccGNEIQR.s 			page 3


  40              	.LCFI0:
  41              		.cfi_def_cfa_offset 8
  42              		.cfi_offset 4, -8
  43              		.cfi_offset 14, -4
  73:emulator/video/screen.c ****     if (addr >= SCREEN_AREA_START && addr <= SCREEN_AREA_END)
  44              		.loc 1 73 5 is_stmt 1 view .LVU2
  45              		.loc 1 73 35 is_stmt 0 view .LVU3
  46 0002 A0F58043 		sub	r3, r0, #16384
  47 0006 9BB2     		uxth	r3, r3
  48              		.loc 1 73 8 view .LVU4
  49 0008 B3F5C05F 		cmp	r3, #6144
  50 000c 10D2     		bcs	.L2
  74:emulator/video/screen.c ****     {
  75:emulator/video/screen.c ****         screen_area[THIRDS(addr)][CHAR(addr)][ROW(addr)][BYTE_IN_LINE(addr)] = data;
  51              		.loc 1 75 9 is_stmt 1 view .LVU5
  52              		.loc 1 75 21 is_stmt 0 view .LVU6
  53 000e C0F3C124 		ubfx	r4, r0, #11, #2
  54              		.loc 1 75 35 view .LVU7
  55 0012 C0F30222 		ubfx	r2, r0, #8, #3
  56              		.loc 1 75 47 view .LVU8
  57 0016 C0F34213 		ubfx	r3, r0, #5, #3
  58              		.loc 1 75 58 view .LVU9
  59 001a 00F01F00 		and	r0, r0, #31
  60              	.LVL1:
  61              		.loc 1 75 78 view .LVU10
  62 001e 02EBC402 		add	r2, r2, r4, lsl #3
  63 0022 03EBC202 		add	r2, r3, r2, lsl #3
  64 0026 0B4B     		ldr	r3, .L6
  65 0028 03EB4213 		add	r3, r3, r2, lsl #5
  66 002c 1954     		strb	r1, [r3, r0]
  67              	.LVL2:
  68              	.L1:
  76:emulator/video/screen.c ****     }
  77:emulator/video/screen.c ****     else if (addr >= SCREEN_ATTR_START && addr <= SCREEN_ATTR_END)
  78:emulator/video/screen.c ****     {
  79:emulator/video/screen.c ****         char_attribute[addr - SCREEN_ATTR_START].intr = data;
  80:emulator/video/screen.c ****         // logger("ATTRIBUTE WR addr %04X data %02X\r\n", addr - SCREEN_ATTR_START, data);
  81:emulator/video/screen.c ****     }
  82:emulator/video/screen.c ****     else
  83:emulator/video/screen.c ****     {
  84:emulator/video/screen.c ****         logger("%s invalid addr %04X data %02X\r\n", __func__, addr, data);
  85:emulator/video/screen.c ****     }
  86:emulator/video/screen.c ****     
  87:emulator/video/screen.c **** }
  69              		.loc 1 87 1 view .LVU11
  70 002e 10BD     		pop	{r4, pc}
  71              	.LVL3:
  72              	.L2:
  77:emulator/video/screen.c ****     {
  73              		.loc 1 77 10 is_stmt 1 view .LVU12
  77:emulator/video/screen.c ****     {
  74              		.loc 1 77 40 is_stmt 0 view .LVU13
  75 0030 A0F5B043 		sub	r3, r0, #22528
  76 0034 9BB2     		uxth	r3, r3
  77:emulator/video/screen.c ****     {
  77              		.loc 1 77 13 view .LVU14
  78 0036 B3F5407F 		cmp	r3, #768
ARM GAS  /tmp/ccGNEIQR.s 			page 4


  79 003a 04D2     		bcs	.L4
  79:emulator/video/screen.c ****         // logger("ATTRIBUTE WR addr %04X data %02X\r\n", addr - SCREEN_ATTR_START, data);
  80              		.loc 1 79 9 is_stmt 1 view .LVU15
  79:emulator/video/screen.c ****         // logger("ATTRIBUTE WR addr %04X data %02X\r\n", addr - SCREEN_ATTR_START, data);
  81              		.loc 1 79 29 is_stmt 0 view .LVU16
  82 003c A0F5B040 		sub	r0, r0, #22528
  83              	.LVL4:
  79:emulator/video/screen.c ****         // logger("ATTRIBUTE WR addr %04X data %02X\r\n", addr - SCREEN_ATTR_START, data);
  84              		.loc 1 79 55 view .LVU17
  85 0040 054B     		ldr	r3, .L6+4
  86 0042 1954     		strb	r1, [r3, r0]
  87 0044 F3E7     		b	.L1
  88              	.LVL5:
  89              	.L4:
  84:emulator/video/screen.c ****     }
  90              		.loc 1 84 9 is_stmt 1 view .LVU18
  91 0046 0B46     		mov	r3, r1
  92 0048 0246     		mov	r2, r0
  93 004a 0449     		ldr	r1, .L6+8
  94              	.LVL6:
  84:emulator/video/screen.c ****     }
  95              		.loc 1 84 9 is_stmt 0 view .LVU19
  96 004c 0448     		ldr	r0, .L6+12
  97              	.LVL7:
  84:emulator/video/screen.c ****     }
  98              		.loc 1 84 9 view .LVU20
  99 004e FFF7FEFF 		bl	logger
 100              	.LVL8:
 101              		.loc 1 87 1 view .LVU21
 102 0052 ECE7     		b	.L1
 103              	.L7:
 104              		.align	2
 105              	.L6:
 106 0054 00000000 		.word	screen_area
 107 0058 00000000 		.word	.LANCHOR0
 108 005c 00000000 		.word	.LANCHOR1
 109 0060 00000000 		.word	.LC0
 110              		.cfi_endproc
 111              	.LFE126:
 113              		.section	.rodata.screen_mem_read.str1.4,"aMS",%progbits,1
 114              		.align	2
 115              	.LC1:
 116 0000 25732069 		.ascii	"%s invalid addr %04X\015\012\000"
 116      6E76616C 
 116      69642061 
 116      64647220 
 116      25303458 
 117              		.section	.text.screen_mem_read,"ax",%progbits
 118              		.align	1
 119              		.global	screen_mem_read
 120              		.syntax unified
 121              		.thumb
 122              		.thumb_func
 123              		.fpu fpv4-sp-d16
 125              	screen_mem_read:
 126              	.LVL9:
 127              	.LFB127:
ARM GAS  /tmp/ccGNEIQR.s 			page 5


  88:emulator/video/screen.c **** 
  89:emulator/video/screen.c **** uint8_t screen_mem_read(uint16_t addr)
  90:emulator/video/screen.c **** {
 128              		.loc 1 90 1 is_stmt 1 view -0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 0
 131              		@ frame_needed = 0, uses_anonymous_args = 0
 132              		.loc 1 90 1 is_stmt 0 view .LVU23
 133 0000 08B5     		push	{r3, lr}
 134              	.LCFI1:
 135              		.cfi_def_cfa_offset 8
 136              		.cfi_offset 3, -8
 137              		.cfi_offset 14, -4
 138 0002 0246     		mov	r2, r0
  91:emulator/video/screen.c ****     if (addr >= SCREEN_AREA_START && addr <= SCREEN_AREA_END)
 139              		.loc 1 91 5 is_stmt 1 view .LVU24
 140              		.loc 1 91 35 is_stmt 0 view .LVU25
 141 0004 A0F58043 		sub	r3, r0, #16384
 142 0008 9BB2     		uxth	r3, r3
 143              		.loc 1 91 8 view .LVU26
 144 000a B3F5C05F 		cmp	r3, #6144
 145 000e 0AD3     		bcc	.L13
  92:emulator/video/screen.c ****     {
  93:emulator/video/screen.c ****         return screen_area[THIRDS(addr)][CHAR(addr)][ROW(addr)][BYTE_IN_LINE(addr)];
  94:emulator/video/screen.c ****     }
  95:emulator/video/screen.c ****     else if (addr >= SCREEN_ATTR_START && addr <= SCREEN_ATTR_END)
 146              		.loc 1 95 10 is_stmt 1 view .LVU27
 147              		.loc 1 95 40 is_stmt 0 view .LVU28
 148 0010 A0F5B043 		sub	r3, r0, #22528
 149 0014 9BB2     		uxth	r3, r3
 150              		.loc 1 95 13 view .LVU29
 151 0016 B3F5407F 		cmp	r3, #768
 152 001a 15D2     		bcs	.L11
  96:emulator/video/screen.c ****     {
  97:emulator/video/screen.c ****         // logger("ATTRIBUTE RD addr %04X data %02X\r\n", addr, char_attribute[addr - SCREEN_ATTR_S
  98:emulator/video/screen.c ****         return char_attribute[addr - SCREEN_ATTR_START].intr;
 153              		.loc 1 98 9 is_stmt 1 view .LVU30
 154              		.loc 1 98 36 is_stmt 0 view .LVU31
 155 001c A0F5B042 		sub	r2, r0, #22528
 156              		.loc 1 98 56 view .LVU32
 157 0020 0C4B     		ldr	r3, .L14
 158 0022 985C     		ldrb	r0, [r3, r2]	@ zero_extendqisi2
 159              	.LVL10:
 160              		.loc 1 98 56 view .LVU33
 161 0024 0FE0     		b	.L10
 162              	.LVL11:
 163              	.L13:
  93:emulator/video/screen.c ****     }
 164              		.loc 1 93 9 is_stmt 1 view .LVU34
  93:emulator/video/screen.c ****     }
 165              		.loc 1 93 28 is_stmt 0 view .LVU35
 166 0026 C0F3C120 		ubfx	r0, r0, #11, #2
 167              	.LVL12:
  93:emulator/video/screen.c ****     }
 168              		.loc 1 93 42 view .LVU36
 169 002a C2F30221 		ubfx	r1, r2, #8, #3
  93:emulator/video/screen.c ****     }
ARM GAS  /tmp/ccGNEIQR.s 			page 6


 170              		.loc 1 93 54 view .LVU37
 171 002e C2F34213 		ubfx	r3, r2, #5, #3
  93:emulator/video/screen.c ****     }
 172              		.loc 1 93 65 view .LVU38
 173 0032 02F01F02 		and	r2, r2, #31
  93:emulator/video/screen.c ****     }
 174              		.loc 1 93 64 view .LVU39
 175 0036 01EBC001 		add	r1, r1, r0, lsl #3
 176 003a 03EBC101 		add	r1, r3, r1, lsl #3
 177 003e 064B     		ldr	r3, .L14+4
 178 0040 03EB4113 		add	r3, r3, r1, lsl #5
 179 0044 985C     		ldrb	r0, [r3, r2]	@ zero_extendqisi2
 180              	.L10:
  99:emulator/video/screen.c ****     }
 100:emulator/video/screen.c ****     else
 101:emulator/video/screen.c ****     {
 102:emulator/video/screen.c ****         logger("%s invalid addr %04X\r\n", __func__, addr);
 103:emulator/video/screen.c ****     }
 104:emulator/video/screen.c **** 
 105:emulator/video/screen.c ****     return 0;
 106:emulator/video/screen.c **** }
 181              		.loc 1 106 1 view .LVU40
 182 0046 08BD     		pop	{r3, pc}
 183              	.LVL13:
 184              	.L11:
 102:emulator/video/screen.c ****     }
 185              		.loc 1 102 9 is_stmt 1 view .LVU41
 186 0048 0449     		ldr	r1, .L14+8
 187 004a 0548     		ldr	r0, .L14+12
 188              	.LVL14:
 102:emulator/video/screen.c ****     }
 189              		.loc 1 102 9 is_stmt 0 view .LVU42
 190 004c FFF7FEFF 		bl	logger
 191              	.LVL15:
 105:emulator/video/screen.c **** }
 192              		.loc 1 105 5 is_stmt 1 view .LVU43
 105:emulator/video/screen.c **** }
 193              		.loc 1 105 12 is_stmt 0 view .LVU44
 194 0050 0020     		movs	r0, #0
 195 0052 F8E7     		b	.L10
 196              	.L15:
 197              		.align	2
 198              	.L14:
 199 0054 00000000 		.word	.LANCHOR0
 200 0058 00000000 		.word	screen_area
 201 005c 00000000 		.word	.LANCHOR2
 202 0060 00000000 		.word	.LC1
 203              		.cfi_endproc
 204              	.LFE127:
 206              		.section	.text.screen_char_get,"ax",%progbits
 207              		.align	1
 208              		.global	screen_char_get
 209              		.syntax unified
 210              		.thumb
 211              		.thumb_func
 212              		.fpu fpv4-sp-d16
 214              	screen_char_get:
ARM GAS  /tmp/ccGNEIQR.s 			page 7


 215              	.LVL16:
 216              	.LFB128:
 107:emulator/video/screen.c **** 
 108:emulator/video/screen.c **** void screen_char_get(uint8_t char_row, uint8_t char_clomn, uint8_t *bitmap, char_color_565_t *color
 109:emulator/video/screen.c **** {
 217              		.loc 1 109 1 is_stmt 1 view -0
 218              		.cfi_startproc
 219              		@ args = 0, pretend = 0, frame = 0
 220              		@ frame_needed = 0, uses_anonymous_args = 0
 221              		@ link register save eliminated.
 222              		.loc 1 109 1 is_stmt 0 view .LVU46
 223 0000 F0B4     		push	{r4, r5, r6, r7}
 224              	.LCFI2:
 225              		.cfi_def_cfa_offset 16
 226              		.cfi_offset 4, -16
 227              		.cfi_offset 5, -12
 228              		.cfi_offset 6, -8
 229              		.cfi_offset 7, -4
 110:emulator/video/screen.c ****     uint8_t thirds = char_row / SCREEN_CHARS_ROW;
 230              		.loc 1 110 5 is_stmt 1 view .LVU47
 231              		.loc 1 110 13 is_stmt 0 view .LVU48
 232 0002 4FEAD00C 		lsr	ip, r0, #3
 233              	.LVL17:
 111:emulator/video/screen.c ****     uint8_t row    = char_row - (thirds * 8);
 234              		.loc 1 111 5 is_stmt 1 view .LVU49
 235 0006 00F00707 		and	r7, r0, #7
 236              	.LVL18:
 112:emulator/video/screen.c **** 
 113:emulator/video/screen.c ****     for (uint8_t i = 0; i < 8; i++)
 237              		.loc 1 113 5 view .LVU50
 238              	.LBB2:
 239              		.loc 1 113 10 view .LVU51
 240              		.loc 1 113 18 is_stmt 0 view .LVU52
 241 000a 0024     		movs	r4, #0
 242              		.loc 1 113 5 view .LVU53
 243 000c 0AE0     		b	.L17
 244              	.LVL19:
 245              	.L18:
 114:emulator/video/screen.c ****     {
 115:emulator/video/screen.c ****         bitmap[i] = screen_area[thirds][i][row][char_clomn];
 246              		.loc 1 115 9 is_stmt 1 discriminator 3 view .LVU54
 247              		.loc 1 115 48 is_stmt 0 discriminator 3 view .LVU55
 248 000e 04EBCC05 		add	r5, r4, ip, lsl #3
 249 0012 07EBC506 		add	r6, r7, r5, lsl #3
 250 0016 124D     		ldr	r5, .L20
 251 0018 05EB4615 		add	r5, r5, r6, lsl #5
 252 001c 6D5C     		ldrb	r5, [r5, r1]	@ zero_extendqisi2
 253              		.loc 1 115 19 discriminator 3 view .LVU56
 254 001e 1555     		strb	r5, [r2, r4]
 113:emulator/video/screen.c ****     {
 255              		.loc 1 113 32 is_stmt 1 discriminator 3 view .LVU57
 113:emulator/video/screen.c ****     {
 256              		.loc 1 113 33 is_stmt 0 discriminator 3 view .LVU58
 257 0020 0134     		adds	r4, r4, #1
 258              	.LVL20:
 113:emulator/video/screen.c ****     {
 259              		.loc 1 113 33 discriminator 3 view .LVU59
ARM GAS  /tmp/ccGNEIQR.s 			page 8


 260 0022 E4B2     		uxtb	r4, r4
 261              	.LVL21:
 262              	.L17:
 113:emulator/video/screen.c ****     {
 263              		.loc 1 113 25 is_stmt 1 discriminator 1 view .LVU60
 113:emulator/video/screen.c ****     {
 264              		.loc 1 113 5 is_stmt 0 discriminator 1 view .LVU61
 265 0024 072C     		cmp	r4, #7
 266 0026 F2D9     		bls	.L18
 267              	.LBE2:
 116:emulator/video/screen.c ****     }
 117:emulator/video/screen.c ****     
 118:emulator/video/screen.c ****     uint16_t attribute_offset = (char_row * SCREEN_DISPLAY_ATTRIBUTES_W) + char_clomn;
 268              		.loc 1 118 5 is_stmt 1 view .LVU62
 269              		.loc 1 118 14 is_stmt 0 view .LVU63
 270 0028 01EB4011 		add	r1, r1, r0, lsl #5
 271              	.LVL22:
 119:emulator/video/screen.c ****     
 120:emulator/video/screen.c ****     uint8_t color_index = char_attribute[attribute_offset].ink;
 272              		.loc 1 120 5 is_stmt 1 view .LVU64
 273              		.loc 1 120 59 is_stmt 0 view .LVU65
 274 002c 0D4C     		ldr	r4, .L20+4
 275              	.LVL23:
 276              		.loc 1 120 59 view .LVU66
 277 002e 605C     		ldrb	r0, [r4, r1]	@ zero_extendqisi2
 278              	.LVL24:
 279              		.loc 1 120 59 view .LVU67
 280 0030 C0F30202 		ubfx	r2, r0, #0, #3
 281              	.LVL25:
 121:emulator/video/screen.c ****     color_index |= (char_attribute[attribute_offset].bright << 3);
 282              		.loc 1 121 5 is_stmt 1 view .LVU68
 283              		.loc 1 121 53 is_stmt 0 view .LVU69
 284 0034 C0F38010 		ubfx	r0, r0, #6, #1
 285              		.loc 1 121 17 view .LVU70
 286 0038 42EAC002 		orr	r2, r2, r0, lsl #3
 287              	.LVL26:
 288              		.loc 1 121 17 view .LVU71
 289 003c D2B2     		uxtb	r2, r2
 290              	.LVL27:
 122:emulator/video/screen.c ****     color->inc = colors_table[color_index];  
 291              		.loc 1 122 5 is_stmt 1 view .LVU72
 292              		.loc 1 122 30 is_stmt 0 view .LVU73
 293 003e 0A48     		ldr	r0, .L20+8
 294 0040 30F81220 		ldrh	r2, [r0, r2, lsl #1]
 295              	.LVL28:
 296              		.loc 1 122 16 view .LVU74
 297 0044 1A80     		strh	r2, [r3]	@ movhi
 298              	.LVL29:
 123:emulator/video/screen.c **** 
 124:emulator/video/screen.c ****     color_index = char_attribute[attribute_offset].paper;
 299              		.loc 1 124 5 is_stmt 1 view .LVU75
 300              		.loc 1 124 51 is_stmt 0 view .LVU76
 301 0046 615C     		ldrb	r1, [r4, r1]	@ zero_extendqisi2
 302              	.LVL30:
 303              		.loc 1 124 51 view .LVU77
 304 0048 C1F3C202 		ubfx	r2, r1, #3, #3
 305              	.LVL31:
ARM GAS  /tmp/ccGNEIQR.s 			page 9


 125:emulator/video/screen.c ****     color_index |= (char_attribute[attribute_offset].bright << 3);
 306              		.loc 1 125 5 is_stmt 1 view .LVU78
 307              		.loc 1 125 53 is_stmt 0 view .LVU79
 308 004c C1F38011 		ubfx	r1, r1, #6, #1
 309              		.loc 1 125 17 view .LVU80
 310 0050 42EAC102 		orr	r2, r2, r1, lsl #3
 311              	.LVL32:
 312              		.loc 1 125 17 view .LVU81
 313 0054 D2B2     		uxtb	r2, r2
 314              	.LVL33:
 126:emulator/video/screen.c ****     color->paper = colors_table[color_index];
 315              		.loc 1 126 5 is_stmt 1 view .LVU82
 316              		.loc 1 126 32 is_stmt 0 view .LVU83
 317 0056 30F81220 		ldrh	r2, [r0, r2, lsl #1]
 318              	.LVL34:
 319              		.loc 1 126 18 view .LVU84
 320 005a 5A80     		strh	r2, [r3, #2]	@ movhi
 127:emulator/video/screen.c **** }
 321              		.loc 1 127 1 view .LVU85
 322 005c F0BC     		pop	{r4, r5, r6, r7}
 323              	.LCFI3:
 324              		.cfi_restore 7
 325              		.cfi_restore 6
 326              		.cfi_restore 5
 327              		.cfi_restore 4
 328              		.cfi_def_cfa_offset 0
 329              	.LVL35:
 330              		.loc 1 127 1 view .LVU86
 331 005e 7047     		bx	lr
 332              	.L21:
 333              		.align	2
 334              	.L20:
 335 0060 00000000 		.word	screen_area
 336 0064 00000000 		.word	.LANCHOR0
 337 0068 00000000 		.word	.LANCHOR3
 338              		.cfi_endproc
 339              	.LFE128:
 341              		.section	.text.screen_draw,"ax",%progbits
 342              		.align	1
 343              		.global	screen_draw
 344              		.syntax unified
 345              		.thumb
 346              		.thumb_func
 347              		.fpu fpv4-sp-d16
 349              	screen_draw:
 350              	.LFB129:
 128:emulator/video/screen.c **** 
 129:emulator/video/screen.c **** void screen_draw(void)
 130:emulator/video/screen.c **** {
 351              		.loc 1 130 1 is_stmt 1 view -0
 352              		.cfi_startproc
 353              		@ args = 0, pretend = 0, frame = 144
 354              		@ frame_needed = 0, uses_anonymous_args = 0
 355 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 356              	.LCFI4:
 357              		.cfi_def_cfa_offset 20
 358              		.cfi_offset 4, -20
ARM GAS  /tmp/ccGNEIQR.s 			page 10


 359              		.cfi_offset 5, -16
 360              		.cfi_offset 6, -12
 361              		.cfi_offset 7, -8
 362              		.cfi_offset 14, -4
 363 0002 A5B0     		sub	sp, sp, #148
 364              	.LCFI5:
 365              		.cfi_def_cfa_offset 168
 131:emulator/video/screen.c ****     uint8_t bitmap[8];
 366              		.loc 1 131 5 view .LVU88
 132:emulator/video/screen.c ****     char_color_565_t color;
 367              		.loc 1 132 5 view .LVU89
 133:emulator/video/screen.c ****     
 134:emulator/video/screen.c ****     for (uint16_t y = 0; y < 24; ++y)
 368              		.loc 1 134 5 view .LVU90
 369              	.LBB3:
 370              		.loc 1 134 10 view .LVU91
 371              	.LVL36:
 372              		.loc 1 134 19 is_stmt 0 view .LVU92
 373 0004 0025     		movs	r5, #0
 374              		.loc 1 134 5 view .LVU93
 375 0006 38E0     		b	.L23
 376              	.LVL37:
 377              	.L25:
 378              	.LBB4:
 379              	.LBB5:
 380              	.LBB6:
 381              	.LBB7:
 135:emulator/video/screen.c ****     {
 136:emulator/video/screen.c ****         for (uint16_t x = 0; x < 32; ++x)
 137:emulator/video/screen.c ****         {
 138:emulator/video/screen.c ****             screen_char_get(y, x, bitmap, &color);
 139:emulator/video/screen.c **** 
 140:emulator/video/screen.c ****             uint16_t c[8][8];
 141:emulator/video/screen.c ****             for (uint8_t b = 0; b < 8; ++b)
 142:emulator/video/screen.c ****             {
 143:emulator/video/screen.c ****                 for (uint8_t n = 0; n < 8; ++n)
 144:emulator/video/screen.c ****                 {
 145:emulator/video/screen.c ****                     c[b][n] = (bitmap[b] & (1 << (7-n))) ? color.inc : color.paper; 
 382              		.loc 1 145 29 discriminator 2 view .LVU94
 383 0008 BDF88610 		ldrh	r1, [sp, #134]
 384              	.L26:
 385              		.loc 1 145 29 discriminator 4 view .LVU95
 386 000c 02EBC602 		add	r2, r2, r6, lsl #3
 387 0010 24AE     		add	r6, sp, #144
 388 0012 06EB4202 		add	r2, r6, r2, lsl #1
 389 0016 22F88C1C 		strh	r1, [r2, #-140]	@ movhi
 143:emulator/video/screen.c ****                 {
 390              		.loc 1 143 44 is_stmt 1 discriminator 4 view .LVU96
 391 001a 0133     		adds	r3, r3, #1
 392              	.LVL38:
 143:emulator/video/screen.c ****                 {
 393              		.loc 1 143 44 is_stmt 0 discriminator 4 view .LVU97
 394 001c DBB2     		uxtb	r3, r3
 395              	.LVL39:
 396              	.L28:
 143:emulator/video/screen.c ****                 {
 397              		.loc 1 143 37 is_stmt 1 discriminator 2 view .LVU98
ARM GAS  /tmp/ccGNEIQR.s 			page 11


 143:emulator/video/screen.c ****                 {
 398              		.loc 1 143 17 is_stmt 0 discriminator 2 view .LVU99
 399 001e 072B     		cmp	r3, #7
 400 0020 0ED8     		bhi	.L34
 401              		.loc 1 145 21 is_stmt 1 view .LVU100
 402              		.loc 1 145 38 is_stmt 0 view .LVU101
 403 0022 0646     		mov	r6, r0
 404 0024 24AA     		add	r2, sp, #144
 405 0026 0244     		add	r2, r2, r0
 406 0028 12F8081C 		ldrb	r1, [r2, #-8]	@ zero_extendqisi2
 407              		.loc 1 145 52 view .LVU102
 408 002c 1A46     		mov	r2, r3
 409 002e C3F10707 		rsb	r7, r3, #7
 410              		.loc 1 145 58 view .LVU103
 411 0032 3941     		asrs	r1, r1, r7
 412              		.loc 1 145 29 view .LVU104
 413 0034 11F0010F 		tst	r1, #1
 414 0038 E6D0     		beq	.L25
 415              		.loc 1 145 29 discriminator 1 view .LVU105
 416 003a BDF88410 		ldrh	r1, [sp, #132]
 417 003e E5E7     		b	.L26
 418              	.L34:
 419              	.LBE7:
 141:emulator/video/screen.c ****             {
 420              		.loc 1 141 40 is_stmt 1 discriminator 2 view .LVU106
 421 0040 0130     		adds	r0, r0, #1
 422              	.LVL40:
 141:emulator/video/screen.c ****             {
 423              		.loc 1 141 40 is_stmt 0 discriminator 2 view .LVU107
 424 0042 C0B2     		uxtb	r0, r0
 425              	.LVL41:
 426              	.L24:
 141:emulator/video/screen.c ****             {
 427              		.loc 1 141 33 is_stmt 1 discriminator 1 view .LVU108
 141:emulator/video/screen.c ****             {
 428              		.loc 1 141 13 is_stmt 0 discriminator 1 view .LVU109
 429 0044 0728     		cmp	r0, #7
 430 0046 01D8     		bhi	.L35
 431              	.LBB8:
 143:emulator/video/screen.c ****                 {
 432              		.loc 1 143 30 view .LVU110
 433 0048 0023     		movs	r3, #0
 434 004a E8E7     		b	.L28
 435              	.L35:
 436              	.LBE8:
 437              	.LBE6:
 146:emulator/video/screen.c ****                 }
 147:emulator/video/screen.c ****             } 
 148:emulator/video/screen.c **** 
 149:emulator/video/screen.c ****             display_8x8block_draw(SCREEN_DISPLAY_ADDR_START_X + (x * 8),
 438              		.loc 1 149 13 is_stmt 1 discriminator 2 view .LVU111
 439 004c E91C     		adds	r1, r5, #3
 440 004e C900     		lsls	r1, r1, #3
 441 0050 89B2     		uxth	r1, r1
 442 0052 201D     		adds	r0, r4, #4
 443              	.LVL42:
 444              		.loc 1 149 13 is_stmt 0 discriminator 2 view .LVU112
ARM GAS  /tmp/ccGNEIQR.s 			page 12


 445 0054 C000     		lsls	r0, r0, #3
 446 0056 80B2     		uxth	r0, r0
 447 0058 01AA     		add	r2, sp, #4
 448 005a FFF7FEFF 		bl	display_8x8block_draw
 449              	.LVL43:
 450              	.LBE5:
 136:emulator/video/screen.c ****         {
 451              		.loc 1 136 38 is_stmt 1 discriminator 2 view .LVU113
 452 005e 0134     		adds	r4, r4, #1
 453              	.LVL44:
 136:emulator/video/screen.c ****         {
 454              		.loc 1 136 38 is_stmt 0 discriminator 2 view .LVU114
 455 0060 A4B2     		uxth	r4, r4
 456              	.LVL45:
 457              	.L30:
 136:emulator/video/screen.c ****         {
 458              		.loc 1 136 30 is_stmt 1 discriminator 1 view .LVU115
 136:emulator/video/screen.c ****         {
 459              		.loc 1 136 9 is_stmt 0 discriminator 1 view .LVU116
 460 0062 1F2C     		cmp	r4, #31
 461 0064 07D8     		bhi	.L36
 462              	.LBB10:
 138:emulator/video/screen.c **** 
 463              		.loc 1 138 13 is_stmt 1 view .LVU117
 464 0066 21AB     		add	r3, sp, #132
 465 0068 22AA     		add	r2, sp, #136
 466 006a E1B2     		uxtb	r1, r4
 467 006c E8B2     		uxtb	r0, r5
 468 006e FFF7FEFF 		bl	screen_char_get
 469              	.LVL46:
 140:emulator/video/screen.c ****             for (uint8_t b = 0; b < 8; ++b)
 470              		.loc 1 140 13 view .LVU118
 141:emulator/video/screen.c ****             {
 471              		.loc 1 141 13 view .LVU119
 472              	.LBB9:
 141:emulator/video/screen.c ****             {
 473              		.loc 1 141 18 view .LVU120
 141:emulator/video/screen.c ****             {
 474              		.loc 1 141 26 is_stmt 0 view .LVU121
 475 0072 0020     		movs	r0, #0
 141:emulator/video/screen.c ****             {
 476              		.loc 1 141 13 view .LVU122
 477 0074 E6E7     		b	.L24
 478              	.LVL47:
 479              	.L36:
 141:emulator/video/screen.c ****             {
 480              		.loc 1 141 13 view .LVU123
 481              	.LBE9:
 482              	.LBE10:
 483              	.LBE4:
 134:emulator/video/screen.c ****     {
 484              		.loc 1 134 34 is_stmt 1 discriminator 2 view .LVU124
 485 0076 0135     		adds	r5, r5, #1
 486              	.LVL48:
 134:emulator/video/screen.c ****     {
 487              		.loc 1 134 34 is_stmt 0 discriminator 2 view .LVU125
 488 0078 ADB2     		uxth	r5, r5
ARM GAS  /tmp/ccGNEIQR.s 			page 13


 489              	.LVL49:
 490              	.L23:
 134:emulator/video/screen.c ****     {
 491              		.loc 1 134 26 is_stmt 1 discriminator 1 view .LVU126
 134:emulator/video/screen.c ****     {
 492              		.loc 1 134 5 is_stmt 0 discriminator 1 view .LVU127
 493 007a 172D     		cmp	r5, #23
 494 007c 01D8     		bhi	.L37
 495              	.LBB11:
 136:emulator/video/screen.c ****         {
 496              		.loc 1 136 23 view .LVU128
 497 007e 0024     		movs	r4, #0
 498 0080 EFE7     		b	.L30
 499              	.L37:
 500              	.LBE11:
 501              	.LBE3:
 150:emulator/video/screen.c ****                                   SCREEN_DISPLAY_ADDR_START_Y + (y * 8),
 151:emulator/video/screen.c ****                                   &c[0][0]);
 152:emulator/video/screen.c ****         }
 153:emulator/video/screen.c ****     }
 154:emulator/video/screen.c **** }
 502              		.loc 1 154 1 view .LVU129
 503 0082 25B0     		add	sp, sp, #148
 504              	.LCFI6:
 505              		.cfi_def_cfa_offset 20
 506              		@ sp needed
 507 0084 F0BD     		pop	{r4, r5, r6, r7, pc}
 508              		.loc 1 154 1 view .LVU130
 509              		.cfi_endproc
 510              	.LFE129:
 512              		.section	.rodata.screen_draw_border.str1.4,"aMS",%progbits,1
 513              		.align	2
 514              	.LC2:
 515 0000 626F7264 		.ascii	"border %04X\015\012\000"
 515      65722025 
 515      3034580D 
 515      0A00
 516              		.section	.text.screen_draw_border,"ax",%progbits
 517              		.align	1
 518              		.global	screen_draw_border
 519              		.syntax unified
 520              		.thumb
 521              		.thumb_func
 522              		.fpu fpv4-sp-d16
 524              	screen_draw_border:
 525              	.LVL50:
 526              	.LFB130:
 155:emulator/video/screen.c **** 
 156:emulator/video/screen.c **** void screen_draw_border(uint8_t data)
 157:emulator/video/screen.c **** {
 527              		.loc 1 157 1 is_stmt 1 view -0
 528              		.cfi_startproc
 529              		@ args = 0, pretend = 0, frame = 0
 530              		@ frame_needed = 0, uses_anonymous_args = 0
 158:emulator/video/screen.c ****     char_attribute_t color = {.intr = data};
 531              		.loc 1 158 5 view .LVU132
 159:emulator/video/screen.c ****     if (border.ink != color.ink)
ARM GAS  /tmp/ccGNEIQR.s 			page 14


 532              		.loc 1 159 5 view .LVU133
 533              		.loc 1 159 20 is_stmt 0 view .LVU134
 534 0000 234B     		ldr	r3, .L45
 535 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 536 0004 4340     		eors	r3, r3, r0
 537              		.loc 1 159 8 view .LVU135
 538 0006 13F0070F 		tst	r3, #7
 539 000a 00D1     		bne	.L44
 540 000c 7047     		bx	lr
 541              	.L44:
 157:emulator/video/screen.c ****     char_attribute_t color = {.intr = data};
 542              		.loc 1 157 1 view .LVU136
 543 000e 30B5     		push	{r4, r5, lr}
 544              	.LCFI7:
 545              		.cfi_def_cfa_offset 12
 546              		.cfi_offset 4, -12
 547              		.cfi_offset 5, -8
 548              		.cfi_offset 14, -4
 549 0010 83B0     		sub	sp, sp, #12
 550              	.LCFI8:
 551              		.cfi_def_cfa_offset 24
 160:emulator/video/screen.c ****     {
 161:emulator/video/screen.c ****         border.intr = color.intr;
 552              		.loc 1 161 9 is_stmt 1 view .LVU137
 553              		.loc 1 161 21 is_stmt 0 view .LVU138
 554 0012 1F4D     		ldr	r5, .L45
 555 0014 2870     		strb	r0, [r5]
 162:emulator/video/screen.c ****         logger("border %04X\r\n", colors_table[border.ink]);
 556              		.loc 1 162 9 is_stmt 1 view .LVU139
 557              		.loc 1 162 54 is_stmt 0 view .LVU140
 558 0016 00F00700 		and	r0, r0, #7
 559              	.LVL51:
 560              		.loc 1 162 47 view .LVU141
 561 001a 1E4C     		ldr	r4, .L45+4
 562              		.loc 1 162 9 view .LVU142
 563 001c 34F81010 		ldrh	r1, [r4, r0, lsl #1]
 564 0020 1D48     		ldr	r0, .L45+8
 565 0022 FFF7FEFF 		bl	logger
 566              	.LVL52:
 163:emulator/video/screen.c ****         display_fill_area(0, 320, 0, 24, colors_table[border.ink]);
 567              		.loc 1 163 9 is_stmt 1 view .LVU143
 568              		.loc 1 163 61 is_stmt 0 view .LVU144
 569 0026 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 570 0028 03F00703 		and	r3, r3, #7
 571              		.loc 1 163 9 view .LVU145
 572 002c 34F81330 		ldrh	r3, [r4, r3, lsl #1]
 573 0030 0093     		str	r3, [sp]
 574 0032 1823     		movs	r3, #24
 575 0034 0022     		movs	r2, #0
 576 0036 4FF4A071 		mov	r1, #320
 577 003a 1046     		mov	r0, r2
 578 003c FFF7FEFF 		bl	display_fill_area
 579              	.LVL53:
 164:emulator/video/screen.c **** 
 165:emulator/video/screen.c ****         display_fill_area(0,
 580              		.loc 1 165 9 is_stmt 1 view .LVU146
 166:emulator/video/screen.c ****                           32,
ARM GAS  /tmp/ccGNEIQR.s 			page 15


 167:emulator/video/screen.c ****                           SCREEN_DISPLAY_ADDR_START_Y,
 168:emulator/video/screen.c ****                           SCREEN_DISPLAY_H,
 169:emulator/video/screen.c ****                           colors_table[border.ink]);
 581              		.loc 1 169 46 is_stmt 0 view .LVU147
 582 0040 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 583 0042 03F00703 		and	r3, r3, #7
 165:emulator/video/screen.c ****                           32,
 584              		.loc 1 165 9 view .LVU148
 585 0046 34F81330 		ldrh	r3, [r4, r3, lsl #1]
 586 004a 0093     		str	r3, [sp]
 587 004c C023     		movs	r3, #192
 588 004e 1822     		movs	r2, #24
 589 0050 2021     		movs	r1, #32
 590 0052 0020     		movs	r0, #0
 591 0054 FFF7FEFF 		bl	display_fill_area
 592              	.LVL54:
 170:emulator/video/screen.c **** 
 171:emulator/video/screen.c ****         display_fill_area(0, 320, 216, 24, colors_table[border.ink]);
 593              		.loc 1 171 9 is_stmt 1 view .LVU149
 594              		.loc 1 171 63 is_stmt 0 view .LVU150
 595 0058 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 596 005a 03F00703 		and	r3, r3, #7
 597              		.loc 1 171 9 view .LVU151
 598 005e 34F81330 		ldrh	r3, [r4, r3, lsl #1]
 599 0062 0093     		str	r3, [sp]
 600 0064 1823     		movs	r3, #24
 601 0066 D822     		movs	r2, #216
 602 0068 4FF4A071 		mov	r1, #320
 603 006c 0020     		movs	r0, #0
 604 006e FFF7FEFF 		bl	display_fill_area
 605              	.LVL55:
 172:emulator/video/screen.c **** 
 173:emulator/video/screen.c ****         display_fill_area(288,
 606              		.loc 1 173 9 is_stmt 1 view .LVU152
 174:emulator/video/screen.c ****                           32,
 175:emulator/video/screen.c ****                           SCREEN_DISPLAY_ADDR_START_Y,
 176:emulator/video/screen.c ****                           SCREEN_DISPLAY_H,
 177:emulator/video/screen.c ****                           colors_table[border.ink]);
 607              		.loc 1 177 46 is_stmt 0 view .LVU153
 608 0072 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 609 0074 03F00703 		and	r3, r3, #7
 173:emulator/video/screen.c ****                           32,
 610              		.loc 1 173 9 view .LVU154
 611 0078 34F81330 		ldrh	r3, [r4, r3, lsl #1]
 612 007c 0093     		str	r3, [sp]
 613 007e C023     		movs	r3, #192
 614 0080 1822     		movs	r2, #24
 615 0082 2021     		movs	r1, #32
 616 0084 4FF49070 		mov	r0, #288
 617 0088 FFF7FEFF 		bl	display_fill_area
 618              	.LVL56:
 178:emulator/video/screen.c ****     }
 179:emulator/video/screen.c **** }
 619              		.loc 1 179 1 view .LVU155
 620 008c 03B0     		add	sp, sp, #12
 621              	.LCFI9:
 622              		.cfi_def_cfa_offset 12
ARM GAS  /tmp/ccGNEIQR.s 			page 16


 623              		@ sp needed
 624 008e 30BD     		pop	{r4, r5, pc}
 625              	.L46:
 626              		.align	2
 627              	.L45:
 628 0090 00000000 		.word	.LANCHOR4
 629 0094 00000000 		.word	.LANCHOR3
 630 0098 00000000 		.word	.LC2
 631              		.cfi_endproc
 632              	.LFE130:
 634              		.section	.bss.border,"aw",%nobits
 635              		.align	2
 636              		.set	.LANCHOR4,. + 0
 639              	border:
 640 0000 00       		.space	1
 641              		.section	.bss.char_attribute,"aw",%nobits
 642              		.align	2
 643              		.set	.LANCHOR0,. + 0
 646              	char_attribute:
 647 0000 00000000 		.space	768
 647      00000000 
 647      00000000 
 647      00000000 
 647      00000000 
 648              		.section	.bss.screen_area,"aw",%nobits
 649              		.align	2
 652              	screen_area:
 653 0000 00000000 		.space	6144
 653      00000000 
 653      00000000 
 653      00000000 
 653      00000000 
 654              		.section	.rodata.__func__.9286,"a"
 655              		.align	2
 656              		.set	.LANCHOR1,. + 0
 659              	__func__.9286:
 660 0000 73637265 		.ascii	"screen_mem_write\000"
 660      656E5F6D 
 660      656D5F77 
 660      72697465 
 660      00
 661              		.section	.rodata.__func__.9290,"a"
 662              		.align	2
 663              		.set	.LANCHOR2,. + 0
 666              	__func__.9290:
 667 0000 73637265 		.ascii	"screen_mem_read\000"
 667      656E5F6D 
 667      656D5F72 
 667      65616400 
 668              		.section	.rodata.colors_table,"a"
 669              		.align	2
 670              		.set	.LANCHOR3,. + 0
 673              	colors_table:
 674 0000 0000     		.short	0
 675 0002 1A00     		.short	26
 676 0004 00D0     		.short	-12288
 677 0006 1AD0     		.short	-12262
ARM GAS  /tmp/ccGNEIQR.s 			page 17


 678 0008 A006     		.short	1696
 679 000a BA06     		.short	1722
 680 000c A0D6     		.short	-10592
 681 000e BAD6     		.short	-10566
 682 0010 0000     		.short	0
 683 0012 1F00     		.short	31
 684 0014 00F8     		.short	-2048
 685 0016 1FF8     		.short	-2017
 686 0018 E007     		.short	2016
 687 001a FF07     		.short	2047
 688 001c E0FF     		.short	-32
 689 001e FFFF     		.short	-1
 690              		.text
 691              	.Letext0:
 692              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 693              		.file 3 "emulator/video/screen.h"
 694              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 695              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 696              		.file 6 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 697              		.file 7 "/usr/include/newlib/sys/_types.h"
 698              		.file 8 "/usr/include/newlib/sys/reent.h"
 699              		.file 9 "/usr/include/newlib/sys/lock.h"
 700              		.file 10 "logger/logger.h"
 701              		.file 11 "display/display.h"
ARM GAS  /tmp/ccGNEIQR.s 			page 18


DEFINED SYMBOLS
                            *ABS*:0000000000000000 screen.c
     /tmp/ccGNEIQR.s:18     .rodata.screen_mem_write.str1.4:0000000000000000 $d
     /tmp/ccGNEIQR.s:22     .text.screen_mem_write:0000000000000000 $t
     /tmp/ccGNEIQR.s:30     .text.screen_mem_write:0000000000000000 screen_mem_write
     /tmp/ccGNEIQR.s:106    .text.screen_mem_write:0000000000000054 $d
     /tmp/ccGNEIQR.s:652    .bss.screen_area:0000000000000000 screen_area
     /tmp/ccGNEIQR.s:114    .rodata.screen_mem_read.str1.4:0000000000000000 $d
     /tmp/ccGNEIQR.s:118    .text.screen_mem_read:0000000000000000 $t
     /tmp/ccGNEIQR.s:125    .text.screen_mem_read:0000000000000000 screen_mem_read
     /tmp/ccGNEIQR.s:199    .text.screen_mem_read:0000000000000054 $d
     /tmp/ccGNEIQR.s:207    .text.screen_char_get:0000000000000000 $t
     /tmp/ccGNEIQR.s:214    .text.screen_char_get:0000000000000000 screen_char_get
     /tmp/ccGNEIQR.s:335    .text.screen_char_get:0000000000000060 $d
     /tmp/ccGNEIQR.s:342    .text.screen_draw:0000000000000000 $t
     /tmp/ccGNEIQR.s:349    .text.screen_draw:0000000000000000 screen_draw
     /tmp/ccGNEIQR.s:513    .rodata.screen_draw_border.str1.4:0000000000000000 $d
     /tmp/ccGNEIQR.s:517    .text.screen_draw_border:0000000000000000 $t
     /tmp/ccGNEIQR.s:524    .text.screen_draw_border:0000000000000000 screen_draw_border
     /tmp/ccGNEIQR.s:628    .text.screen_draw_border:0000000000000090 $d
     /tmp/ccGNEIQR.s:635    .bss.border:0000000000000000 $d
     /tmp/ccGNEIQR.s:639    .bss.border:0000000000000000 border
     /tmp/ccGNEIQR.s:642    .bss.char_attribute:0000000000000000 $d
     /tmp/ccGNEIQR.s:646    .bss.char_attribute:0000000000000000 char_attribute
     /tmp/ccGNEIQR.s:649    .bss.screen_area:0000000000000000 $d
     /tmp/ccGNEIQR.s:655    .rodata.__func__.9286:0000000000000000 $d
     /tmp/ccGNEIQR.s:659    .rodata.__func__.9286:0000000000000000 __func__.9286
     /tmp/ccGNEIQR.s:662    .rodata.__func__.9290:0000000000000000 $d
     /tmp/ccGNEIQR.s:666    .rodata.__func__.9290:0000000000000000 __func__.9290
     /tmp/ccGNEIQR.s:669    .rodata.colors_table:0000000000000000 $d
     /tmp/ccGNEIQR.s:673    .rodata.colors_table:0000000000000000 colors_table

UNDEFINED SYMBOLS
logger
display_8x8block_draw
display_fill_area
